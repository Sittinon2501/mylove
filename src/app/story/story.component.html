<div class="story-bg">
  <canvas id="letterRain" class="canvas-bg"></canvas>
  <canvas id="heartRain" class="canvas-bg"></canvas>
  <canvas id="zigzagRain" class="canvas-bg"></canvas>
  <div class="story-content">
    <h1 class="birthday-title">ЁЯОВ Happy Birthday! ЁЯОЙ</h1>
    <div class="birthday-message-wrapper">
      <div class="birthday-message-deco left">ЁЯОА</div>
      <p class="birthday-message">
        р╕Вр╕нр╣Гр╕лр╣Йр╕зр╕▒р╕Щр╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕зр╕▒р╕Щр╕Чр╕╡р╣Ир╕Юр╕┤р╣Ар╕ир╕й р╣Ар╕Хр╣Зр╕бр╣Др╕Ыр╕Фр╣Йр╕зр╕вр╕Др╕зр╕▓р╕бр╕кр╕╕р╕Вр╣Бр╕ер╕░р╕гр╕нр╕вр╕вр╕┤р╣Йр╕б<br />
        р╕кр╕╕р╕Вр╕кр╕▒р╕Щр╕Хр╣Мр╕зр╕▒р╕Щр╣Ар╕Бр╕┤р╕Фр╕Щр╕░р╕Др╕░ ЁЯТЦ
      </p>
      <div class="birthday-message-deco right">ЁЯОА</div>
    </div>
    <div class="gallery-grid">
      <ng-container *ngFor="let item of gallery; let i = index">
        <div class="gallery-item" (click)="openMedia(i)">
          <img
            *ngIf="item.type === 'image'"
            [src]="item.src"
            [alt]="item.alt"
          />
          <div *ngIf="item.type === 'video'" class="video-thumb">
            <video [src]="item.src" muted></video>
            <span class="play-icon">тЦ╢</span>
          </div>
        </div>
      </ng-container>
    </div>
    <div class="story-text">
      <div class="balloon-note">
        <div class="balloon-string"></div>
        <div class="balloon-paper">
          <div class="memory-frame">
            <p>
              р╣Гр╕Щр╕Чр╕╕р╕Бр╣Ж р╕зр╕▒р╕Щр╣Ар╕Бр╕┤р╕Фр╕Чр╕╡р╣Ир╕Ьр╣Ир╕▓р╕Щр╕бр╕▓ р╣Ар╕гр╕▓р╣Др╕Фр╣Йр╕кр╕гр╣Йр╕▓р╕Зр╕Др╕зр╕▓р╕бр╕Чр╕гр╕Зр╕Ир╕│р╕Фр╕╡р╣Ж р╕гр╣Ир╕зр╕бр╕Бр╕▒р╕Щр╕бр╕▓р╕Бр╕бр╕▓р╕в<br />
              р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕Чр╕╡р╣Ир╕нр╕вр╕╣р╣Ир╣Ар╕Др╕╡р╕вр╕Зр╕Вр╣Йр╕▓р╕Зр╕Бр╕▒р╕Щр╣Ар╕кр╕бр╕н р╣Др╕бр╣Ир╕зр╣Ир╕▓р╕Ир╕░р╕кр╕╕р╕Вр╕лр╕гр╕╖р╕нр╕Чр╕╕р╕Бр╕Вр╣М<br />
              р╕Вр╕нр╣Гр╕лр╣Йр╕Ыр╕╡р╕Щр╕╡р╣Йр╣Ар╕Ыр╣Зр╕Щр╕Ыр╕╡р╕Чр╕╡р╣Ир╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╕Вр╕нр╕Зр╣Ар╕Шр╕н р╕бр╕╡р╣Бр╕Хр╣Ир╕гр╕нр╕вр╕вр╕┤р╣Йр╕бр╣Бр╕ер╕░р╣Ар╕кр╕╡р╕вр╕Зр╕лр╕▒р╕зр╣Ар╕гр╕▓р╕░р╕Щр╕░р╕Др╕░
              ЁЯТЦ
            </p>
            <div class="memory-divider"></div>
            <p class="memory-love">
              <span class="story-highlight">р╕гр╕▒р╕Бр╕Чр╕╡р╣Ир╕кр╕╕р╕Фр╣Гр╕Щр╣Вр╕ер╕Б ЁЯе░</span>
            </p>
          </div>
        </div>
        <div class="balloon"></div>
      </div>
    </div>
    <hr class="story-divider" />
    <div class="story-footer">
      <span style="font-size: 1.3rem; color: #ffd966">тнР</span>
      <span>р╕Вр╕нр╕Ър╕Др╕╕р╕Ур╕Чр╕╡р╣Ир╣Ар╕Ыр╣Зр╕Щр╕Др╕зр╕▓р╕бр╕кр╕╕р╕Вр╣Гр╕Щр╕Чр╕╕р╕Бр╕зр╕▒р╕Щр╕Вр╕нр╕Зр╕Бр╕▒р╕Щр╣Бр╕ер╕░р╕Бр╕▒р╕Щ</span>
      <span style="font-size: 1.3rem; color: #ffd966">тнР</span>
    </div>
    <button class="story-btn" routerLink="/">р╕Бр╕ер╕▒р╕Ър╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</button>
  </div>
  <div class="modal-backdrop" *ngIf="modalOpen" (click)="closeMedia()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="modal-close" (click)="closeMedia()">├Ч</button>
      <button class="modal-nav left" (click)="prevMedia($event)">тА╣</button>
      <ng-container *ngIf="gallery[modalIndex].type === 'image'">
        <img [src]="gallery[modalIndex].src" [alt]="gallery[modalIndex].alt" />
      </ng-container>
      <ng-container *ngIf="gallery[modalIndex].type === 'video'">
        <video [src]="gallery[modalIndex].src" controls autoplay></video>
      </ng-container>
      <button class="modal-nav right" (click)="nextMedia($event)">тА║</button>
      <div class="modal-caption">{{ gallery[modalIndex].alt }}</div>
    </div>
  </div>
</div>
