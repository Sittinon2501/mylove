<canvas id="letterRain" style="position:fixed; left:0; top:0; width:100vw; height:100vh; z-index:0; pointer-events:none;"></canvas>
<canvas id="heartRain" style="position:fixed; left:0; top:0; width:100vw; height:100vh; z-index:1; pointer-events:none;"></canvas>
<!-- Decorative floating hearts -->
<div class="floating-hearts">
  <span class="heart" style="top:10%; left:8%;"></span>
  <span class="heart" style="top:18%; left:90%;"></span>
  <span class="heart" style="top:60%; left:5%;"></span>
  <span class="heart" style="top:80%; left:85%;"></span>
</div>
<div class="story-main" style="position:relative; z-index:1; background: rgba(255,255,255,0.45); border-radius: 1rem; max-width:800px; width:100%;">
  <h1>
    <span style="font-size:2.2rem; vertical-align:middle;">üíë</span>
    ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤
    <span style="font-size:2.2rem; vertical-align:middle;">üåà</span>
  </h1>
  <div class="story-quote">
    <span>‚ÄúEvery moment with you is my favorite memory.‚Äù</span>
    <span style="font-size:1.3rem; color:#ff69b4;">üíñ</span>
  </div>
  <hr class="story-divider" />
  <div class="story-gallery">
    <div class="media-card" *ngFor="let item of gallery; let i = index">
      <ng-container [ngSwitch]="item.type">
        <img *ngSwitchCase="'image'" [src]="item.src" [alt]="item.alt" (click)="openMedia(i)" />
        <div *ngSwitchCase="'video'" class="video-thumb" (click)="openMedia(i)">
          <video [src]="item.src" muted></video>
          <div class="play-btn">&#9658;</div>
        </div>
      </ng-container>
    </div>
  </div>
  <div class="story-text">
    <div class="memory-frame">
      <p>
        ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡πÜ ‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô‡∏°‡∏≤ ‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡∏£‡∏á‡∏à‡∏≥‡∏î‡∏µ‡πÜ ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡∏Å‡∏°‡∏≤‡∏¢<br>
        ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏Ñ‡∏µ‡∏¢‡∏á‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏™‡∏∏‡∏Ç‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏∏‡∏Å‡∏Ç‡πå<br>
        ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏õ‡∏µ‡∏ó‡∏µ‡πà‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠ ‡∏°‡∏µ‡πÅ‡∏ï‡πà‡∏£‡∏≠‡∏¢‡∏¢‡∏¥‡πâ‡∏°‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏´‡∏±‡∏ß‡πÄ‡∏£‡∏≤‡∏∞‡∏ô‡∏∞‡∏Ñ‡∏∞ üíñ
      </p>
      <div class="memory-divider"></div>
      <p class="memory-love">
        <span class="story-highlight">‡∏£‡∏±‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î‡πÉ‡∏ô‡πÇ‡∏•‡∏Å</span>
        <span style="font-size:1.5rem;">ü•∞</span>
      </p>
    </div>
  </div>
  <hr class="story-divider" />
  <div class="story-footer">
    <span style="font-size:1.3rem; color:#ffd966;">‚≠ê</span>
    <span>‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏±‡∏ô</span>
    <span style="font-size:1.3rem; color:#ffd966;">‚≠ê</span>
  </div>
  <button class="story-btn" routerLink="/">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>

  <!-- Lightbox Modal -->
  <div class="media-modal-backdrop" *ngIf="modalOpen" (click)="closeMedia()">
    <div class="media-modal" (click)="$event.stopPropagation()">
      <button class="close-modal-btn" (click)="closeMedia()">√ó</button>
      <ng-container [ngSwitch]="gallery[modalIndex].type">
        <img *ngSwitchCase="'image'" [src]="gallery[modalIndex].src" [alt]="gallery[modalIndex].alt" />
        <video *ngSwitchCase="'video'" [src]="gallery[modalIndex].src" controls autoplay></video>
      </ng-container>
      <div class="modal-caption">{{gallery[modalIndex].alt}}</div>
      <button class="modal-nav prev" (click)="prevMedia($event)" *ngIf="gallery.length > 1">&#8592;</button>
      <button class="modal-nav next" (click)="nextMedia($event)" *ngIf="gallery.length > 1">&#8594;</button>
    </div>
  </div>
</div>
