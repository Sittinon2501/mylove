<div class="background-text">
  <span class="bg-hb">Happy Birthday</span>
  <span class="bg-ily">I Love You</span>
</div>
<canvas id="letterRain"></canvas>
<div class="main-content">
  <!-- Animated Birthday Cake SVG -->
  <div class="cake-container" style="margin-bottom: 0.5rem;">
    <svg class="birthday-cake-animated" viewBox="0 0 440 340" width="340" height="240" style="max-width:340px;max-height:240px;">
      <!-- Cake shadow -->
      <ellipse cx="220" cy="315" rx="120" ry="24" fill="#e0a96d" opacity="0.25"/>
      <!-- Cake base (bottom layer) -->
      <ellipse cx="220" cy="270" rx="120" ry="40" fill="#f7c59f"/>
      <rect x="100" y="160" width="240" height="110" rx="60" fill="#f7c59f"/>
      <!-- Cake middle layer -->
      <ellipse cx="220" cy="170" rx="120" ry="40" fill="#ffe3e3"/>
      <rect x="100" y="110" width="240" height="70" rx="35" fill="#ffe3e3"/>
      <!-- Cake top icing -->
      <ellipse cx="220" cy="110" rx="120" ry="40" fill="#fff0f6"/>
      <!-- Dripping icing (top) -->
      <path d="M100,110 Q130,150 160,110 Q190,140 220,110 Q250,150 280,110 Q310,140 340,110 Q370,150 370,110" fill="#fff0f6"/>
      <!-- Sprinkles -->
      <circle cx="160" cy="110" r="6" fill="#ff69b4"/>
      <circle cx="190" cy="125" r="4" fill="#ffd966"/>
      <circle cx="260" cy="100" r="4" fill="#7ed6df"/>
      <circle cx="300" cy="120" r="6" fill="#f7b2ad"/>
      <circle cx="270" cy="135" r="3.5" fill="#ffb347"/>
      <!-- Candles -->
      <g class="candle">
        <rect x="160" y="60" width="20" height="60" rx="6" fill="#ffd966"/>
        <rect x="165" y="70" width="10" height="12" fill="#ff69b4"/>
        <!-- Flame -->
        <g>
          <ellipse class="flame" cx="170" cy="50" rx="7" ry="16" fill="#ffe066">
            <animate attributeName="cy" values="50;40;50" dur="1s" repeatCount="indefinite"/>
            <animate attributeName="opacity" values="1;0.7;1" dur="1s" repeatCount="indefinite"/>
          </ellipse>
        </g>
      </g>
      <g class="candle">
        <rect x="210" y="45" width="20" height="75" rx="6" fill="#ffd966"/>
        <rect x="215" y="55" width="10" height="12" fill="#7ed6df"/>
        <!-- Flame -->
        <g>
          <ellipse class="flame" cx="220" cy="35" rx="7" ry="20" fill="#ffe066">
            <animate attributeName="cy" values="35;25;35" dur="1.2s" repeatCount="indefinite"/>
            <animate attributeName="opacity" values="1;0.7;1" dur="1.2s" repeatCount="indefinite"/>
          </ellipse>
        </g>
      </g>
      <g class="candle">
        <rect x="260" y="60" width="20" height="60" rx="6" fill="#ffd966"/>
        <rect x="265" y="70" width="10" height="12" fill="#f7b2ad"/>
        <!-- Flame -->
        <g>
          <ellipse class="flame" cx="270" cy="50" rx="7" ry="16" fill="#ffe066">
            <animate attributeName="cy" values="50;40;50" dur="0.9s" repeatCount="indefinite"/>
            <animate attributeName="opacity" values="1;0.7;1" dur="0.9s" repeatCount="indefinite"/>
          </ellipse>
        </g>
      </g>
    </svg>
  </div>
  <!-- Wish and blow candle button -->
  <button class="wish-btn" (click)="showWishPopup()">Make a Wish & Blow the Candle ðŸŽ‚</button>
  <h1>Happy Birthday, My Love ðŸ’–</h1>
  <p>May this day be the most special for you. Wishing you endless happiness!</p>
  <button class="story-btn" routerLink="/story">See Our Story ðŸ“–</button>
  <!-- Add more images or messages as you like -->
</div>

<!-- Popup Modal -->
<div *ngIf="wishPopupVisible" class="wish-popup-backdrop">
  <div class="wish-popup">
    <!-- Confetti effect -->
    <div class="confetti" id="confetti-container"></div>
    <h2>ðŸŽ‰ Your Birthday Wish ðŸŽ‰</h2>
    <p>
      <span style="font-size:2.1rem; color:#ffd966; vertical-align:middle;">âœ¨</span>
      <span style="font-family:'Pacifico',cursive,'Quicksand',sans-serif; color:#ff69b4; font-size:1.5rem;">
        May all your wishes come true this year!
      </span>
      <br>
      <span style="color:#d72660; font-size:1.1rem;">
        Wishing you happiness, success, and endless love ðŸ’–
      </span>
      <span style="font-size:2.1rem; color:#ffd966; vertical-align:middle;">âœ¨</span>
    </p>
    <button class="close-btn" (click)="closeWishPopup()">Close</button>
  </div>
</div>